import{T as C}from"./runtime-dom.esm-bundler.ByeeO9O7.js";import{_ as D}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as s,a as t,t as k,n as y,b as B,w as M,d as E,o as O,e as S,r as w,l as h,f as i,F as j,h as z,j as N}from"./runtime-core.esm-bundler.CBw-J_OP.js";const P=E({__name:"LanguageSwitcher",props:{locales:{},currentLocale:{},currentPath:{},defaultLocale:{},prefixDefaultLocale:{type:Boolean,default:!1},base:{default:"/"}},setup(v,{expose:r}){r();const a=v,e=w(!1),u=w(null),f=h(()=>a.locales.find(l=>l.code===a.currentLocale)?.name||a.currentLocale),o=h(()=>`Select language, current: ${f.value}`),x=h(()=>"Available languages");function _(){e.value=!e.value}function g(){e.value=!1}function L(n){let l=a.currentPath;l.startsWith("/")||(l="/"+l);const c=a.base?.replace(/\/$/,"")||"";let d="";return(n!==a.defaultLocale||a.prefixDefaultLocale)&&(d=`/${n}`),l==="/"?d?c?`${c}${d}/`:`${d}/`:c?`${c}/`:"/":`${c}${d}${l}`}function p(n){u.value&&!u.value.contains(n.target)&&g()}function m(n){n.key==="Escape"&&g()}O(()=>{document.addEventListener("click",p),document.addEventListener("keydown",m)}),S(()=>{document.removeEventListener("click",p),document.removeEventListener("keydown",m)});const b={props:a,isOpen:e,dropdownRef:u,currentLocaleName:f,ariaLabel:o,listLabel:x,toggleDropdown:_,closeDropdown:g,getLocalizedUrl:L,handleClickOutside:p,handleKeyDown:m};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),U={class:"relative",ref:"dropdownRef"},V=["aria-expanded","aria-label"],A=["aria-label"],F={class:"py-1"},R=["href","aria-selected"],T={key:0,class:"w-4 h-4 flex items-center justify-center"},K={key:1,class:"w-4 h-4"};function W(v,r,a,e,u,f){return i(),s("div",U,[t("button",{onClick:e.toggleDropdown,class:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-expanded":e.isOpen,"aria-haspopup":"listbox","aria-label":e.ariaLabel},[r[1]||(r[1]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})],-1)),t("span",null,k(e.currentLocaleName),1),(i(),s("svg",{class:y(["w-3 h-3 transition-transform",{"rotate-180":e.isOpen}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...r[0]||(r[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,V),B(C,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:M(()=>[e.isOpen?(i(),s("div",{key:0,class:"absolute right-0 mt-2 w-40 origin-top-right rounded-lg bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-gray-700 focus:outline-none z-50",role:"listbox","aria-label":e.listLabel},[t("div",F,[(i(!0),s(j,null,z(a.locales,o=>(i(),s("a",{key:o.code,href:e.getLocalizedUrl(o.code),class:y(["flex items-center gap-2 px-4 py-2 text-sm transition-colors",[o.code===a.currentLocale?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"]]),role:"option","aria-selected":o.code===a.currentLocale,onClick:e.closeDropdown},[o.code===a.currentLocale?(i(),s("span",T,[...r[2]||(r[2]=[t("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):(i(),s("span",K)),t("span",null,k(o.name),1)],10,R))),128))])],8,A)):N("",!0)]),_:1})],512)}const H=D(P,[["render",W]]);export{H as default};
